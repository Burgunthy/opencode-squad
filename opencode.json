{
  "$schema": "https://opencode.ai/config.json",
  "plugin": [
    "opencode-sessions",
    "@opencode-ai/plugin-agent-teams"
  ],
  "model": "zai-coding-plan/glm-4.7",
  "small_model": "zai-coding-plan/glm-4.5-flash",
  "permission": {
    "edit": "allow",
    "bash": {
      "*": "allow"
    },
    "webfetch": "allow",
    "websearch": "allow"
  },
  "command": {
    "review": {
      "template": "Review code changes in $ARGUMENTS for best practices, security, and performance issues.",
      "description": "Code review",
      "agent": "code-reviewer"
    },
    "commit": {
      "template": "Create a well-structured git commit for current staged changes. Write a clear commit message following conventional commits.",
      "description": "Smart commit"
    },
    "debug": {
      "template": "Debug following issue: $ARGUMENTS. Use systematic debugging methodology.",
      "description": "Debug an issue",
      "agent": "debugger"
    },
    "test": {
      "template": "Run test suite and analyze failures. Suggest fixes for failing tests. $ARGUMENTS",
      "description": "Run and analyze tests"
    },
    "plan": {
      "template": "Create an implementation plan for: $ARGUMENTS. Analyze requirements, identify files, and propose step-by-step approach.",
      "description": "Create implementation plan"
    },
    "team-spawn": {
      "template": "Spawn a new agent team using agent-teams plugin. Usage: team-spawn [preset|custom] [teamName]. Presets: review, debug, feature, fullstack, security, migration, research. Custom: comma-separated agent names.",
      "description": "Spawn multi-agent team"
    },
    "team-status": {
      "template": "Show status of active agent team using agent-teams plugin. Usage: team-status [teamName]. Shows agents, tasks, and progress.",
      "description": "Show team status"
    },
    "team-delegate": {
      "template": "Delegate task to specific agent in team using agent-teams plugin. Usage: team-delegate <teamName> <agentName> <subject> <description>.",
      "description": "Delegate to team agent"
    },
    "team-shutdown": {
      "template": "Shutdown agent team using agent-teams plugin. Usage: team-shutdown [teamName]. Shows summary of completed work.",
      "description": "Shutdown team"
    }
  },
  "agent": {
    "build": {
      "prompt_append": "AGENT_CATALOG:\\n\\nLANGS: python-pro, django-dev, js-pro, ts-pro, nextjs, react, angular, vue, go, rust, cpp, java-arch, kotlin, spring, csharp, dotnet, rails, php, laravel, wp, swift, elixir, flutter, mobile\\nARCH: arch-review, microserv, api-des, graphql, fullstack\\nINFRA: cloud, k8s, tf, devops, deploy, platform, sre, network, azure\\nDB: db-admin, db-opt, postgres, sql\\nSEC: sec-audit(ro), sec-eng, pente, comp-audit(ro), ad-sec\\nQUAL: code-review, test-auto, qa, debugger, err-det, refactor\\nDATA/ML: data-eng, data-sci, data-ana, ml, mlops\\nAI: ai-eng, llm-arch, prompt-eng, nlp, mcp\\nRESEARCH: search, data-res, market, res-ana, web, competitive, trend\\nBIZ: ba, pm, proj, scrum\\nDOCS: doc-eng, api-doc, tech-writer\\nCOORD: agent-org, multi-coord, task-dist, workflow, context\\nSPECIAL: blockchain, game, embedded, iot, fintech, quant, payment, electron, websocket, slack\\nWINDOWS: win-infra, ps7, ps5.1, ps-module, ps-ui, ps-sec, m365, ps-it-ops\\nRULES: Framework-first. Read-only audits find issues, implementers fix them. Chain complex tasks via session. Parallel/background via session(task)/task(run_in_background).\\n\\nSESSION: opencode-sessions plugin. Use for agent delegation and multi-agent workflows. Modes: message(agent-to-agent in same conversation), new(clean handoff), compact(compress context). Syntax: session(agent, mode, task/text). Parallel: requires plugin, use session() with mode parallel. Use task() for background delegation. Chain complex workflows across multiple agents.\\n\\nAGENT-TEAMS: agent-teams plugin available for multi-agent coordination. Commands: team-spawn (create team), team-status (check progress), team-delegate (assign task), team-shutdown (cleanup). Team presets: review, debug, feature, fullstack, security, migration, research. Use for complex multi-agent workflows with task tracking."
    }
  }
}
